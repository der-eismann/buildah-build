require('./sourcemap-register.js');module.exports=(()=>{var t={351:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(Object.hasOwnProperty.call(t,r))e[r]=t[r];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const i=n(r(87));const s=r(278);function issueCommand(t,e,r){const n=new Command(t,e,r);process.stdout.write(n.toString()+i.EOL)}e.issueCommand=issueCommand;function issue(t,e=""){issueCommand(t,{},e)}e.issue=issue;const o="::";class Command{constructor(t,e,r){if(!t){t="missing.command"}this.command=t;this.properties=e;this.message=r}toString(){let t=o+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let e=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(e){e=false}else{t+=","}t+=`${r}=${escapeProperty(n)}`}}}}t+=`${o}${escapeData(this.message)}`;return t}}function escapeData(t){return s.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(t){return s.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},186:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function adopt(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(r,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n["throw"](t))}catch(t){i(t)}}function step(t){t.done?r(t.value):adopt(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})};var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(Object.hasOwnProperty.call(t,r))e[r]=t[r];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const s=r(351);const o=r(717);const a=r(278);const c=i(r(87));const u=i(r(622));var l;(function(t){t[t["Success"]=0]="Success";t[t["Failure"]=1]="Failure"})(l=e.ExitCode||(e.ExitCode={}));function exportVariable(t,e){const r=a.toCommandValue(e);process.env[t]=r;const n=process.env["GITHUB_ENV"]||"";if(n){const e="_GitHubActionsFileCommandDelimeter_";const n=`${t}<<${e}${c.EOL}${r}${c.EOL}${e}`;o.issueCommand("ENV",n)}else{s.issueCommand("set-env",{name:t},r)}}e.exportVariable=exportVariable;function setSecret(t){s.issueCommand("add-mask",{},t)}e.setSecret=setSecret;function addPath(t){const e=process.env["GITHUB_PATH"]||"";if(e){o.issueCommand("PATH",t)}else{s.issueCommand("add-path",{},t)}process.env["PATH"]=`${t}${u.delimiter}${process.env["PATH"]}`}e.addPath=addPath;function getInput(t,e){const r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r){throw new Error(`Input required and not supplied: ${t}`)}return r.trim()}e.getInput=getInput;function setOutput(t,e){s.issueCommand("set-output",{name:t},e)}e.setOutput=setOutput;function setCommandEcho(t){s.issue("echo",t?"on":"off")}e.setCommandEcho=setCommandEcho;function setFailed(t){process.exitCode=l.Failure;error(t)}e.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}e.isDebug=isDebug;function debug(t){s.issueCommand("debug",{},t)}e.debug=debug;function error(t){s.issue("error",t instanceof Error?t.toString():t)}e.error=error;function warning(t){s.issue("warning",t instanceof Error?t.toString():t)}e.warning=warning;function info(t){process.stdout.write(t+c.EOL)}e.info=info;function startGroup(t){s.issue("group",t)}e.startGroup=startGroup;function endGroup(){s.issue("endgroup")}e.endGroup=endGroup;function group(t,e){return n(this,void 0,void 0,function*(){startGroup(t);let r;try{r=yield e()}finally{endGroup()}return r})}e.group=group;function saveState(t,e){s.issueCommand("save-state",{name:t},e)}e.saveState=saveState;function getState(t){return process.env[`STATE_${t}`]||""}e.getState=getState},717:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(Object.hasOwnProperty.call(t,r))e[r]=t[r];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const i=n(r(747));const s=n(r(87));const o=r(278);function issueCommand(t,e){const r=process.env[`GITHUB_${t}`];if(!r){throw new Error(`Unable to find environment variable for file command ${t}`)}if(!i.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}i.appendFileSync(r,`${o.toCommandValue(e)}${s.EOL}`,{encoding:"utf8"})}e.issueCommand=issueCommand},278:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});function toCommandValue(t){if(t===null||t===undefined){return""}else if(typeof t==="string"||t instanceof String){return t}return JSON.stringify(t)}e.toCommandValue=toCommandValue},514:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function adopt(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(r,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n["throw"](t))}catch(t){i(t)}}function step(t){t.done?r(t.value):adopt(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})};var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(Object.hasOwnProperty.call(t,r))e[r]=t[r];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const s=i(r(159));function exec(t,e,r){return n(this,void 0,void 0,function*(){const n=s.argStringToArray(t);if(n.length===0){throw new Error(`Parameter 'commandLine' cannot be null or empty.`)}const i=n[0];e=n.slice(1).concat(e||[]);const o=new s.ToolRunner(i,e,r);return o.exec()})}e.exec=exec},159:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function adopt(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(r,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n["throw"](t))}catch(t){i(t)}}function step(t){t.done?r(t.value):adopt(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})};var i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)if(Object.hasOwnProperty.call(t,r))e[r]=t[r];e["default"]=t;return e};Object.defineProperty(e,"__esModule",{value:true});const s=i(r(87));const o=i(r(614));const a=i(r(129));const c=i(r(622));const u=i(r(436));const l=i(r(962));const f=process.platform==="win32";class ToolRunner extends o.EventEmitter{constructor(t,e,r){super();if(!t){throw new Error("Parameter 'toolPath' cannot be null or empty.")}this.toolPath=t;this.args=e||[];this.options=r||{}}_debug(t){if(this.options.listeners&&this.options.listeners.debug){this.options.listeners.debug(t)}}_getCommandString(t,e){const r=this._getSpawnFileName();const n=this._getSpawnArgs(t);let i=e?"":"[command]";if(f){if(this._isCmdFile()){i+=r;for(const t of n){i+=` ${t}`}}else if(t.windowsVerbatimArguments){i+=`"${r}"`;for(const t of n){i+=` ${t}`}}else{i+=this._windowsQuoteCmdArg(r);for(const t of n){i+=` ${this._windowsQuoteCmdArg(t)}`}}}else{i+=r;for(const t of n){i+=` ${t}`}}return i}_processLineBuffer(t,e,r){try{let n=e+t.toString();let i=n.indexOf(s.EOL);while(i>-1){const t=n.substring(0,i);r(t);n=n.substring(i+s.EOL.length);i=n.indexOf(s.EOL)}e=n}catch(t){this._debug(`error processing line. Failed with error ${t}`)}}_getSpawnFileName(){if(f){if(this._isCmdFile()){return process.env["COMSPEC"]||"cmd.exe"}}return this.toolPath}_getSpawnArgs(t){if(f){if(this._isCmdFile()){let e=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const r of this.args){e+=" ";e+=t.windowsVerbatimArguments?r:this._windowsQuoteCmdArg(r)}e+='"';return[e]}}return this.args}_endsWith(t,e){return t.endsWith(e)}_isCmdFile(){const t=this.toolPath.toUpperCase();return this._endsWith(t,".CMD")||this._endsWith(t,".BAT")}_windowsQuoteCmdArg(t){if(!this._isCmdFile()){return this._uvQuoteCmdArg(t)}if(!t){return'""'}const e=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let r=false;for(const n of t){if(e.some(t=>t===n)){r=true;break}}if(!r){return t}let n='"';let i=true;for(let e=t.length;e>0;e--){n+=t[e-1];if(i&&t[e-1]==="\\"){n+="\\"}else if(t[e-1]==='"'){i=true;n+='"'}else{i=false}}n+='"';return n.split("").reverse().join("")}_uvQuoteCmdArg(t){if(!t){return'""'}if(!t.includes(" ")&&!t.includes("\t")&&!t.includes('"')){return t}if(!t.includes('"')&&!t.includes("\\")){return`"${t}"`}let e='"';let r=true;for(let n=t.length;n>0;n--){e+=t[n-1];if(r&&t[n-1]==="\\"){e+="\\"}else if(t[n-1]==='"'){r=true;e+="\\"}else{r=false}}e+='"';return e.split("").reverse().join("")}_cloneExecOptions(t){t=t||{};const e={cwd:t.cwd||process.cwd(),env:t.env||process.env,silent:t.silent||false,windowsVerbatimArguments:t.windowsVerbatimArguments||false,failOnStdErr:t.failOnStdErr||false,ignoreReturnCode:t.ignoreReturnCode||false,delay:t.delay||1e4};e.outStream=t.outStream||process.stdout;e.errStream=t.errStream||process.stderr;return e}_getSpawnOptions(t,e){t=t||{};const r={};r.cwd=t.cwd;r.env=t.env;r["windowsVerbatimArguments"]=t.windowsVerbatimArguments||this._isCmdFile();if(t.windowsVerbatimArguments){r.argv0=`"${e}"`}return r}exec(){return n(this,void 0,void 0,function*(){if(!l.isRooted(this.toolPath)&&(this.toolPath.includes("/")||f&&this.toolPath.includes("\\"))){this.toolPath=c.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)}this.toolPath=yield u.which(this.toolPath,true);return new Promise((t,e)=>{this._debug(`exec tool: ${this.toolPath}`);this._debug("arguments:");for(const t of this.args){this._debug(`   ${t}`)}const r=this._cloneExecOptions(this.options);if(!r.silent&&r.outStream){r.outStream.write(this._getCommandString(r)+s.EOL)}const n=new ExecState(r,this.toolPath);n.on("debug",t=>{this._debug(t)});const i=this._getSpawnFileName();const o=a.spawn(i,this._getSpawnArgs(r),this._getSpawnOptions(this.options,i));const c="";if(o.stdout){o.stdout.on("data",t=>{if(this.options.listeners&&this.options.listeners.stdout){this.options.listeners.stdout(t)}if(!r.silent&&r.outStream){r.outStream.write(t)}this._processLineBuffer(t,c,t=>{if(this.options.listeners&&this.options.listeners.stdline){this.options.listeners.stdline(t)}})})}const u="";if(o.stderr){o.stderr.on("data",t=>{n.processStderr=true;if(this.options.listeners&&this.options.listeners.stderr){this.options.listeners.stderr(t)}if(!r.silent&&r.errStream&&r.outStream){const e=r.failOnStdErr?r.errStream:r.outStream;e.write(t)}this._processLineBuffer(t,u,t=>{if(this.options.listeners&&this.options.listeners.errline){this.options.listeners.errline(t)}})})}o.on("error",t=>{n.processError=t.message;n.processExited=true;n.processClosed=true;n.CheckComplete()});o.on("exit",t=>{n.processExitCode=t;n.processExited=true;this._debug(`Exit code ${t} received from tool '${this.toolPath}'`);n.CheckComplete()});o.on("close",t=>{n.processExitCode=t;n.processExited=true;n.processClosed=true;this._debug(`STDIO streams have closed for tool '${this.toolPath}'`);n.CheckComplete()});n.on("done",(r,n)=>{if(c.length>0){this.emit("stdline",c)}if(u.length>0){this.emit("errline",u)}o.removeAllListeners();if(r){e(r)}else{t(n)}});if(this.options.input){if(!o.stdin){throw new Error("child process missing stdin")}o.stdin.end(this.options.input)}})})}}e.ToolRunner=ToolRunner;function argStringToArray(t){const e=[];let r=false;let n=false;let i="";function append(t){if(n&&t!=='"'){i+="\\"}i+=t;n=false}for(let s=0;s<t.length;s++){const o=t.charAt(s);if(o==='"'){if(!n){r=!r}else{append(o)}continue}if(o==="\\"&&n){append(o);continue}if(o==="\\"&&r){n=true;continue}if(o===" "&&!r){if(i.length>0){e.push(i);i=""}continue}append(o)}if(i.length>0){e.push(i.trim())}return e}e.argStringToArray=argStringToArray;class ExecState extends o.EventEmitter{constructor(t,e){super();this.processClosed=false;this.processError="";this.processExitCode=0;this.processExited=false;this.processStderr=false;this.delay=1e4;this.done=false;this.timeout=null;if(!e){throw new Error("toolPath must not be empty")}this.options=t;this.toolPath=e;if(t.delay){this.delay=t.delay}}CheckComplete(){if(this.done){return}if(this.processClosed){this._setResult()}else if(this.processExited){this.timeout=setTimeout(ExecState.HandleTimeout,this.delay,this)}}_debug(t){this.emit("debug",t)}_setResult(){let t;if(this.processExited){if(this.processError){t=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`)}else if(this.processExitCode!==0&&!this.options.ignoreReturnCode){t=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)}else if(this.processStderr&&this.options.failOnStdErr){t=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)}}if(this.timeout){clearTimeout(this.timeout);this.timeout=null}this.done=true;this.emit("done",t,this.processExitCode)}static HandleTimeout(t){if(t.done){return}if(!t.processClosed&&t.processExited){const e=`The STDIO streams did not close within ${t.delay/1e3} seconds of the exit event from process '${t.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;t._debug(e)}t._setResult()}}},962:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function adopt(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(r,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n["throw"](t))}catch(t){i(t)}}function step(t){t.done?r(t.value):adopt(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})};var i;Object.defineProperty(e,"__esModule",{value:true});const s=r(357);const o=r(747);const a=r(622);i=o.promises,e.chmod=i.chmod,e.copyFile=i.copyFile,e.lstat=i.lstat,e.mkdir=i.mkdir,e.readdir=i.readdir,e.readlink=i.readlink,e.rename=i.rename,e.rmdir=i.rmdir,e.stat=i.stat,e.symlink=i.symlink,e.unlink=i.unlink;e.IS_WINDOWS=process.platform==="win32";function exists(t){return n(this,void 0,void 0,function*(){try{yield e.stat(t)}catch(t){if(t.code==="ENOENT"){return false}throw t}return true})}e.exists=exists;function isDirectory(t,r=false){return n(this,void 0,void 0,function*(){const n=r?yield e.stat(t):yield e.lstat(t);return n.isDirectory()})}e.isDirectory=isDirectory;function isRooted(t){t=normalizeSeparators(t);if(!t){throw new Error('isRooted() parameter "p" cannot be empty')}if(e.IS_WINDOWS){return t.startsWith("\\")||/^[A-Z]:/i.test(t)}return t.startsWith("/")}e.isRooted=isRooted;function mkdirP(t,r=1e3,i=1){return n(this,void 0,void 0,function*(){s.ok(t,"a path argument must be provided");t=a.resolve(t);if(i>=r)return e.mkdir(t);try{yield e.mkdir(t);return}catch(n){switch(n.code){case"ENOENT":{yield mkdirP(a.dirname(t),r,i+1);yield e.mkdir(t);return}default:{let r;try{r=yield e.stat(t)}catch(t){throw n}if(!r.isDirectory())throw n}}}})}e.mkdirP=mkdirP;function tryGetExecutablePath(t,r){return n(this,void 0,void 0,function*(){let n=undefined;try{n=yield e.stat(t)}catch(e){if(e.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}}if(n&&n.isFile()){if(e.IS_WINDOWS){const e=a.extname(t).toUpperCase();if(r.some(t=>t.toUpperCase()===e)){return t}}else{if(isUnixExecutable(n)){return t}}}const i=t;for(const s of r){t=i+s;n=undefined;try{n=yield e.stat(t)}catch(e){if(e.code!=="ENOENT"){console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}}if(n&&n.isFile()){if(e.IS_WINDOWS){try{const r=a.dirname(t);const n=a.basename(t).toUpperCase();for(const i of yield e.readdir(r)){if(n===i.toUpperCase()){t=a.join(r,i);break}}}catch(e){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${e}`)}return t}else{if(isUnixExecutable(n)){return t}}}}return""})}e.tryGetExecutablePath=tryGetExecutablePath;function normalizeSeparators(t){t=t||"";if(e.IS_WINDOWS){t=t.replace(/\//g,"\\");return t.replace(/\\\\+/g,"\\")}return t.replace(/\/\/+/g,"/")}function isUnixExecutable(t){return(t.mode&1)>0||(t.mode&8)>0&&t.gid===process.getgid()||(t.mode&64)>0&&t.uid===process.getuid()}},436:function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){function adopt(t){return t instanceof r?t:new r(function(e){e(t)})}return new(r||(r=Promise))(function(r,i){function fulfilled(t){try{step(n.next(t))}catch(t){i(t)}}function rejected(t){try{step(n["throw"](t))}catch(t){i(t)}}function step(t){t.done?r(t.value):adopt(t.value).then(fulfilled,rejected)}step((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:true});const i=r(129);const s=r(622);const o=r(669);const a=r(962);const c=o.promisify(i.exec);function cp(t,e,r={}){return n(this,void 0,void 0,function*(){const{force:n,recursive:i}=readCopyOptions(r);const o=(yield a.exists(e))?yield a.stat(e):null;if(o&&o.isFile()&&!n){return}const c=o&&o.isDirectory()?s.join(e,s.basename(t)):e;if(!(yield a.exists(t))){throw new Error(`no such file or directory: ${t}`)}const u=yield a.stat(t);if(u.isDirectory()){if(!i){throw new Error(`Failed to copy. ${t} is a directory, but tried to copy without recursive flag.`)}else{yield cpDirRecursive(t,c,0,n)}}else{if(s.relative(t,c)===""){throw new Error(`'${c}' and '${t}' are the same file`)}yield copyFile(t,c,n)}})}e.cp=cp;function mv(t,e,r={}){return n(this,void 0,void 0,function*(){if(yield a.exists(e)){let n=true;if(yield a.isDirectory(e)){e=s.join(e,s.basename(t));n=yield a.exists(e)}if(n){if(r.force==null||r.force){yield rmRF(e)}else{throw new Error("Destination already exists")}}}yield mkdirP(s.dirname(e));yield a.rename(t,e)})}e.mv=mv;function rmRF(t){return n(this,void 0,void 0,function*(){if(a.IS_WINDOWS){try{if(yield a.isDirectory(t,true)){yield c(`rd /s /q "${t}"`)}else{yield c(`del /f /a "${t}"`)}}catch(t){if(t.code!=="ENOENT")throw t}try{yield a.unlink(t)}catch(t){if(t.code!=="ENOENT")throw t}}else{let e=false;try{e=yield a.isDirectory(t)}catch(t){if(t.code!=="ENOENT")throw t;return}if(e){yield c(`rm -rf "${t}"`)}else{yield a.unlink(t)}}})}e.rmRF=rmRF;function mkdirP(t){return n(this,void 0,void 0,function*(){yield a.mkdirP(t)})}e.mkdirP=mkdirP;function which(t,e){return n(this,void 0,void 0,function*(){if(!t){throw new Error("parameter 'tool' is required")}if(e){const e=yield which(t,false);if(!e){if(a.IS_WINDOWS){throw new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`)}else{throw new Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}}}try{const e=[];if(a.IS_WINDOWS&&process.env.PATHEXT){for(const t of process.env.PATHEXT.split(s.delimiter)){if(t){e.push(t)}}}if(a.isRooted(t)){const r=yield a.tryGetExecutablePath(t,e);if(r){return r}return""}if(t.includes("/")||a.IS_WINDOWS&&t.includes("\\")){return""}const r=[];if(process.env.PATH){for(const t of process.env.PATH.split(s.delimiter)){if(t){r.push(t)}}}for(const n of r){const r=yield a.tryGetExecutablePath(n+s.sep+t,e);if(r){return r}}return""}catch(t){throw new Error(`which failed with message ${t.message}`)}})}e.which=which;function readCopyOptions(t){const e=t.force==null?true:t.force;const r=Boolean(t.recursive);return{force:e,recursive:r}}function cpDirRecursive(t,e,r,i){return n(this,void 0,void 0,function*(){if(r>=255)return;r++;yield mkdirP(e);const n=yield a.readdir(t);for(const s of n){const n=`${t}/${s}`;const o=`${e}/${s}`;const c=yield a.lstat(n);if(c.isDirectory()){yield cpDirRecursive(n,o,r,i)}else{yield copyFile(n,o,i)}}yield a.chmod(e,(yield a.stat(t)).mode)})}function copyFile(t,e,r){return n(this,void 0,void 0,function*(){if((yield a.lstat(t)).isSymbolicLink()){try{yield a.lstat(e);yield a.unlink(e)}catch(t){if(t.code==="EPERM"){yield a.chmod(e,"0666");yield a.unlink(e)}}const r=yield a.readlink(t);yield a.symlink(r,e,a.IS_WINDOWS?"junction":null)}else if(!(yield a.exists(e))||r){yield a.copyFile(t,e)}})}},760:t=>{"use strict";t.exports=balanced;function balanced(t,e,r){if(t instanceof RegExp)t=maybeMatch(t,r);if(e instanceof RegExp)e=maybeMatch(e,r);var n=range(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function maybeMatch(t,e){var r=e.match(t);return r?r[0]:null}balanced.range=range;function range(t,e,r){var n,i,s,o,a;var c=r.indexOf(t);var u=r.indexOf(e,c+1);var l=c;if(c>=0&&u>0){n=[];s=r.length;while(l>=0&&!a){if(l==c){n.push(l);c=r.indexOf(t,l+1)}else if(n.length==1){a=[n.pop(),u]}else{i=n.pop();if(i<s){s=i;o=u}u=r.indexOf(e,l+1)}l=c<u&&c>=0?c:u}if(n.length){a=[s,o]}}return a}},850:(t,e,r)=>{var n=r(891);var i=r(760);t.exports=expandTop;var s="\0SLASH"+Math.random()+"\0";var o="\0OPEN"+Math.random()+"\0";var a="\0CLOSE"+Math.random()+"\0";var c="\0COMMA"+Math.random()+"\0";var u="\0PERIOD"+Math.random()+"\0";function numeric(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function escapeBraces(t){return t.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}function unescapeBraces(t){return t.split(s).join("\\").split(o).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function parseCommaParts(t){if(!t)return[""];var e=[];var r=i("{","}",t);if(!r)return t.split(",");var n=r.pre;var s=r.body;var o=r.post;var a=n.split(",");a[a.length-1]+="{"+s+"}";var c=parseCommaParts(o);if(o.length){a[a.length-1]+=c.shift();a.push.apply(a,c)}e.push.apply(e,a);return e}function expandTop(t){if(!t)return[];if(t.substr(0,2)==="{}"){t="\\{\\}"+t.substr(2)}return expand(escapeBraces(t),true).map(unescapeBraces)}function identity(t){return t}function embrace(t){return"{"+t+"}"}function isPadded(t){return/^-?0\d/.test(t)}function lte(t,e){return t<=e}function gte(t,e){return t>=e}function expand(t,e){var r=[];var s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var o=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var u=o||c;var l=s.body.indexOf(",")>=0;if(!u&&!l){if(s.post.match(/,.*\}/)){t=s.pre+"{"+s.body+a+s.post;return expand(t)}return[t]}var f;if(u){f=s.body.split(/\.\./)}else{f=parseCommaParts(s.body);if(f.length===1){f=expand(f[0],false).map(embrace);if(f.length===1){var h=s.post.length?expand(s.post,false):[""];return h.map(function(t){return s.pre+f[0]+t})}}}var p=s.pre;var h=s.post.length?expand(s.post,false):[""];var d;if(u){var m=numeric(f[0]);var v=numeric(f[1]);var g=Math.max(f[0].length,f[1].length);var y=f.length==3?Math.abs(numeric(f[2])):1;var _=lte;var b=v<m;if(b){y*=-1;_=gte}var E=f.some(isPadded);d=[];for(var w=m;_(w,v);w+=y){var S;if(c){S=String.fromCharCode(w);if(S==="\\")S=""}else{S=String(w);if(E){var O=g-S.length;if(O>0){var A=new Array(O+1).join("0");if(w<0)S="-"+A+S.slice(1);else S=A+S}}}d.push(S)}}else{d=n(f,function(t){return expand(t,false)})}for(var C=0;C<d.length;C++){for(var k=0;k<h.length;k++){var I=p+d[C]+h[k];if(!e||u||I)r.push(I)}}return r}},891:t=>{t.exports=function(t,r){var n=[];for(var i=0;i<t.length;i++){var s=r(t[i],i);if(e(s))n.push.apply(n,s);else n.push(s)}return n};var e=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}},863:(t,e,r)=>{t.exports=realpath;realpath.realpath=realpath;realpath.sync=realpathSync;realpath.realpathSync=realpathSync;realpath.monkeypatch=monkeypatch;realpath.unmonkeypatch=unmonkeypatch;var n=r(747);var i=n.realpath;var s=n.realpathSync;var o=process.version;var a=/^v[0-5]\./.test(o);var c=r(734);function newError(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function realpath(t,e,r){if(a){return i(t,e,r)}if(typeof e==="function"){r=e;e=null}i(t,e,function(n,i){if(newError(n)){c.realpath(t,e,r)}else{r(n,i)}})}function realpathSync(t,e){if(a){return s(t,e)}try{return s(t,e)}catch(r){if(newError(r)){return c.realpathSync(t,e)}else{throw r}}}function monkeypatch(){n.realpath=realpath;n.realpathSync=realpathSync}function unmonkeypatch(){n.realpath=i;n.realpathSync=s}},734:(t,e,r)=>{var n=r(622);var i=process.platform==="win32";var s=r(747);var o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function rethrow(){var t;if(o){var e=new Error;t=debugCallback}else t=missingCallback;return t;function debugCallback(t){if(t){e.message=t.message;t=e;missingCallback(t)}}function missingCallback(t){if(t){if(process.throwDeprecation)throw t;else if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);if(process.traceDeprecation)console.trace(e);else console.error(e)}}}}function maybeCallback(t){return typeof t==="function"?t:rethrow()}var a=n.normalize;if(i){var c=/(.*?)(?:[\/\\]+|$)/g}else{var c=/(.*?)(?:[\/]+|$)/g}if(i){var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/}else{var u=/^[\/]*/}e.realpathSync=function realpathSync(t,e){t=n.resolve(t);if(e&&Object.prototype.hasOwnProperty.call(e,t)){return e[t]}var r=t,o={},a={};var l;var f;var h;var p;start();function start(){var e=u.exec(t);l=e[0].length;f=e[0];h=e[0];p="";if(i&&!a[h]){s.lstatSync(h);a[h]=true}}while(l<t.length){c.lastIndex=l;var d=c.exec(t);p=f;f+=d[0];h=p+d[1];l=c.lastIndex;if(a[h]||e&&e[h]===h){continue}var m;if(e&&Object.prototype.hasOwnProperty.call(e,h)){m=e[h]}else{var v=s.lstatSync(h);if(!v.isSymbolicLink()){a[h]=true;if(e)e[h]=h;continue}var g=null;if(!i){var y=v.dev.toString(32)+":"+v.ino.toString(32);if(o.hasOwnProperty(y)){g=o[y]}}if(g===null){s.statSync(h);g=s.readlinkSync(h)}m=n.resolve(p,g);if(e)e[h]=m;if(!i)o[y]=g}t=n.resolve(m,t.slice(l));start()}if(e)e[r]=t;return t};e.realpath=function realpath(t,e,r){if(typeof r!=="function"){r=maybeCallback(e);e=null}t=n.resolve(t);if(e&&Object.prototype.hasOwnProperty.call(e,t)){return process.nextTick(r.bind(null,null,e[t]))}var o=t,a={},l={};var f;var h;var p;var d;start();function start(){var e=u.exec(t);f=e[0].length;h=e[0];p=e[0];d="";if(i&&!l[p]){s.lstat(p,function(t){if(t)return r(t);l[p]=true;LOOP()})}else{process.nextTick(LOOP)}}function LOOP(){if(f>=t.length){if(e)e[o]=t;return r(null,t)}c.lastIndex=f;var n=c.exec(t);d=h;h+=n[0];p=d+n[1];f=c.lastIndex;if(l[p]||e&&e[p]===p){return process.nextTick(LOOP)}if(e&&Object.prototype.hasOwnProperty.call(e,p)){return gotResolvedLink(e[p])}return s.lstat(p,gotStat)}function gotStat(t,n){if(t)return r(t);if(!n.isSymbolicLink()){l[p]=true;if(e)e[p]=p;return process.nextTick(LOOP)}if(!i){var o=n.dev.toString(32)+":"+n.ino.toString(32);if(a.hasOwnProperty(o)){return gotTarget(null,a[o],p)}}s.stat(p,function(t){if(t)return r(t);s.readlink(p,function(t,e){if(!i)a[o]=e;gotTarget(t,e)})})}function gotTarget(t,i,s){if(t)return r(t);var o=n.resolve(d,i);if(e)e[s]=o;gotResolvedLink(o)}function gotResolvedLink(e){t=n.resolve(e,t.slice(f));start()}}},625:(t,e,r)=>{e.alphasort=alphasort;e.alphasorti=alphasorti;e.setopts=setopts;e.ownProp=ownProp;e.makeAbs=makeAbs;e.finish=finish;e.mark=mark;e.isIgnored=isIgnored;e.childrenIgnored=childrenIgnored;function ownProp(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var n=r(622);var i=r(973);var s=r(714);var o=i.Minimatch;function alphasorti(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function alphasort(t,e){return t.localeCompare(e)}function setupIgnores(t,e){t.ignore=e.ignore||[];if(!Array.isArray(t.ignore))t.ignore=[t.ignore];if(t.ignore.length){t.ignore=t.ignore.map(ignoreMap)}}function ignoreMap(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new o(r,{dot:true})}return{matcher:new o(t,{dot:true}),gmatcher:e}}function setopts(t,e,r){if(!r)r={};if(r.matchBase&&-1===e.indexOf("/")){if(r.noglobstar){throw new Error("base matching requires globstar")}e="**/"+e}t.silent=!!r.silent;t.pattern=e;t.strict=r.strict!==false;t.realpath=!!r.realpath;t.realpathCache=r.realpathCache||Object.create(null);t.follow=!!r.follow;t.dot=!!r.dot;t.mark=!!r.mark;t.nodir=!!r.nodir;if(t.nodir)t.mark=true;t.sync=!!r.sync;t.nounique=!!r.nounique;t.nonull=!!r.nonull;t.nosort=!!r.nosort;t.nocase=!!r.nocase;t.stat=!!r.stat;t.noprocess=!!r.noprocess;t.absolute=!!r.absolute;t.maxLength=r.maxLength||Infinity;t.cache=r.cache||Object.create(null);t.statCache=r.statCache||Object.create(null);t.symlinks=r.symlinks||Object.create(null);setupIgnores(t,r);t.changedCwd=false;var i=process.cwd();if(!ownProp(r,"cwd"))t.cwd=i;else{t.cwd=n.resolve(r.cwd);t.changedCwd=t.cwd!==i}t.root=r.root||n.resolve(t.cwd,"/");t.root=n.resolve(t.root);if(process.platform==="win32")t.root=t.root.replace(/\\/g,"/");t.cwdAbs=s(t.cwd)?t.cwd:makeAbs(t,t.cwd);if(process.platform==="win32")t.cwdAbs=t.cwdAbs.replace(/\\/g,"/");t.nomount=!!r.nomount;r.nonegate=true;r.nocomment=true;t.minimatch=new o(e,r);t.options=t.minimatch.options}function finish(t){var e=t.nounique;var r=e?[]:Object.create(null);for(var n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];if(e)r.push(o);else r[o]=true}}else{var a=Object.keys(s);if(e)r.push.apply(r,a);else a.forEach(function(t){r[t]=true})}}if(!e)r=Object.keys(r);if(!t.nosort)r=r.sort(t.nocase?alphasorti:alphasort);if(t.mark){for(var n=0;n<r.length;n++){r[n]=t._mark(r[n])}if(t.nodir){r=r.filter(function(e){var r=!/\/$/.test(e);var n=t.cache[e]||t.cache[makeAbs(t,e)];if(r&&n)r=n!=="DIR"&&!Array.isArray(n);return r})}}if(t.ignore.length)r=r.filter(function(e){return!isIgnored(t,e)});t.found=r}function mark(t,e){var r=makeAbs(t,e);var n=t.cache[r];var i=e;if(n){var s=n==="DIR"||Array.isArray(n);var o=e.slice(-1)==="/";if(s&&!o)i+="/";else if(!s&&o)i=i.slice(0,-1);if(i!==e){var a=makeAbs(t,i);t.statCache[a]=t.statCache[r];t.cache[a]=t.cache[r]}}return i}function makeAbs(t,e){var r=e;if(e.charAt(0)==="/"){r=n.join(t.root,e)}else if(s(e)||e===""){r=e}else if(t.changedCwd){r=n.resolve(t.cwd,e)}else{r=n.resolve(e)}if(process.platform==="win32")r=r.replace(/\\/g,"/");return r}function isIgnored(t,e){if(!t.ignore.length)return false;return t.ignore.some(function(t){return t.matcher.match(e)||!!(t.gmatcher&&t.gmatcher.match(e))})}function childrenIgnored(t,e){if(!t.ignore.length)return false;return t.ignore.some(function(t){return!!(t.gmatcher&&t.gmatcher.match(e))})}},957:(t,e,r)=>{t.exports=glob;var n=r(747);var i=r(863);var s=r(973);var o=s.Minimatch;var a=r(124);var c=r(614).EventEmitter;var u=r(622);var l=r(357);var f=r(714);var h=r(10);var p=r(625);var d=p.alphasort;var m=p.alphasorti;var v=p.setopts;var g=p.ownProp;var y=r(492);var _=r(669);var b=p.childrenIgnored;var E=p.isIgnored;var w=r(223);function glob(t,e,r){if(typeof e==="function")r=e,e={};if(!e)e={};if(e.sync){if(r)throw new TypeError("callback provided to sync glob");return h(t,e)}return new Glob(t,e,r)}glob.sync=h;var S=glob.GlobSync=h.GlobSync;glob.glob=glob;function extend(t,e){if(e===null||typeof e!=="object"){return t}var r=Object.keys(e);var n=r.length;while(n--){t[r[n]]=e[r[n]]}return t}glob.hasMagic=function(t,e){var r=extend({},e);r.noprocess=true;var n=new Glob(t,r);var i=n.minimatch.set;if(!t)return false;if(i.length>1)return true;for(var s=0;s<i[0].length;s++){if(typeof i[0][s]!=="string")return true}return false};glob.Glob=Glob;a(Glob,c);function Glob(t,e,r){if(typeof e==="function"){r=e;e=null}if(e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new S(t,e)}if(!(this instanceof Glob))return new Glob(t,e,r);v(this,t,e);this._didRealPath=false;var n=this.minimatch.set.length;this.matches=new Array(n);if(typeof r==="function"){r=w(r);this.on("error",r);this.on("end",function(t){r(null,t)})}var i=this;this._processing=0;this._emitQueue=[];this._processQueue=[];this.paused=false;if(this.noprocess)return this;if(n===0)return done();var s=true;for(var o=0;o<n;o++){this._process(this.minimatch.set[o],o,false,done)}s=false;function done(){--i._processing;if(i._processing<=0){if(s){process.nextTick(function(){i._finish()})}else{i._finish()}}}}Glob.prototype._finish=function(){l(this instanceof Glob);if(this.aborted)return;if(this.realpath&&!this._didRealpath)return this._realpath();p.finish(this);this.emit("end",this.found)};Glob.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=true;var t=this.matches.length;if(t===0)return this._finish();var e=this;for(var r=0;r<this.matches.length;r++)this._realpathSet(r,next);function next(){if(--t===0)e._finish()}};Glob.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r);var s=this;var o=n.length;if(o===0)return e();var a=this.matches[t]=Object.create(null);n.forEach(function(r,n){r=s._makeAbs(r);i.realpath(r,s.realpathCache,function(n,i){if(!n)a[i]=true;else if(n.syscall==="stat")a[r]=true;else s.emit("error",n);if(--o===0){s.matches[t]=a;e()}})})};Glob.prototype._mark=function(t){return p.mark(this,t)};Glob.prototype._makeAbs=function(t){return p.makeAbs(this,t)};Glob.prototype.abort=function(){this.aborted=true;this.emit("abort")};Glob.prototype.pause=function(){if(!this.paused){this.paused=true;this.emit("pause")}};Glob.prototype.resume=function(){if(this.paused){this.emit("resume");this.paused=false;if(this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--;this._process(i[0],i[1],i[2],i[3])}}}};Glob.prototype._process=function(t,e,r,n){l(this instanceof Glob);l(typeof n==="function");if(this.aborted)return;this._processing++;if(this.paused){this._processQueue.push([t,e,r,n]);return}var i=0;while(typeof t[i]==="string"){i++}var o;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:o=null;break;default:o=t.slice(0,i).join("/");break}var a=t.slice(i);var c;if(o===null)c=".";else if(f(o)||f(t.join("/"))){if(!o||!f(o))o="/"+o;c=o}else c=o;var u=this._makeAbs(c);if(b(this,c))return n();var h=a[0]===s.GLOBSTAR;if(h)this._processGlobStar(o,c,u,a,e,r,n);else this._processReaddir(o,c,u,a,e,r,n)};Glob.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(c,u){return a._processReaddir2(t,e,r,n,i,s,u,o)})};Glob.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();var c=n[0];var l=!!this.minimatch.negate;var f=c._glob;var h=this.dot||f.charAt(0)===".";var p=[];for(var d=0;d<o.length;d++){var m=o[d];if(m.charAt(0)!=="."||h){var v;if(l&&!t){v=!m.match(c)}else{v=m.match(c)}if(v)p.push(m)}}var g=p.length;if(g===0)return a();if(n.length===1&&!this.mark&&!this.stat){if(!this.matches[i])this.matches[i]=Object.create(null);for(var d=0;d<g;d++){var m=p[d];if(t){if(t!=="/")m=t+"/"+m;else m=t+m}if(m.charAt(0)==="/"&&!this.nomount){m=u.join(this.root,m)}this._emitMatch(i,m)}return a()}n.shift();for(var d=0;d<g;d++){var m=p[d];var y;if(t){if(t!=="/")m=t+"/"+m;else m=t+m}this._process([m].concat(n),i,s,a)}a()};Glob.prototype._emitMatch=function(t,e){if(this.aborted)return;if(E(this,e))return;if(this.paused){this._emitQueue.push([t,e]);return}var r=f(e)?e:this._makeAbs(e);if(this.mark)e=this._mark(e);if(this.absolute)e=r;if(this.matches[t][e])return;if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=true;var i=this.statCache[r];if(i)this.emit("stat",e,i);this.emit("match",e)};Glob.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,false,e);var r="lstat\0"+t;var i=this;var s=y(r,lstatcb_);if(s)n.lstat(t,s);function lstatcb_(r,n){if(r&&r.code==="ENOENT")return e();var s=n&&n.isSymbolicLink();i.symlinks[t]=s;if(!s&&n&&!n.isDirectory()){i.cache[t]="FILE";e()}else i._readdir(t,false,e)}};Glob.prototype._readdir=function(t,e,r){if(this.aborted)return;r=y("readdir\0"+t+"\0"+e,r);if(!r)return;if(e&&!g(this.symlinks,t))return this._readdirInGlobStar(t,r);if(g(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return r();if(Array.isArray(i))return r(null,i)}var s=this;n.readdir(t,readdirCb(this,t,r))};function readdirCb(t,e,r){return function(n,i){if(n)t._readdirError(e,n,r);else t._readdirEntries(e,i,r)}}Glob.prototype._readdirEntries=function(t,e,r){if(this.aborted)return;if(!this.mark&&!this.stat){for(var n=0;n<e.length;n++){var i=e[n];if(t==="/")i=t+i;else i=t+"/"+i;this.cache[i]=true}}this.cache[t]=e;return r(null,e)};Glob.prototype._readdirError=function(t,e,r){if(this.aborted)return;switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);this.cache[n]="FILE";if(n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd;i.code=e.code;this.emit("error",i);this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=false;break;default:this.cache[this._makeAbs(t)]=false;if(this.strict){this.emit("error",e);this.abort()}if(!this.silent)console.error("glob error",e);break}return r()};Glob.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(c,u){a._processGlobStar2(t,e,r,n,i,s,u,o)})};Glob.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var c=n.slice(1);var u=t?[t]:[];var l=u.concat(c);this._process(l,i,false,a);var f=this.symlinks[r];var h=o.length;if(f&&s)return a();for(var p=0;p<h;p++){var d=o[p];if(d.charAt(0)==="."&&!this.dot)continue;var m=u.concat(o[p],c);this._process(m,i,true,a);var v=u.concat(o[p],n);this._process(v,i,true,a)}a()};Glob.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};Glob.prototype._processSimple2=function(t,e,r,n,i){if(!this.matches[e])this.matches[e]=Object.create(null);if(!n)return i();if(t&&f(t)&&!this.nomount){var s=/[\/\\]$/.test(t);if(t.charAt(0)==="/"){t=u.join(this.root,t)}else{t=u.resolve(this.root,t);if(s)t+="/"}}if(process.platform==="win32")t=t.replace(/\\/g,"/");this._emitMatch(e,t);i()};Glob.prototype._stat=function(t,e){var r=this._makeAbs(t);var i=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&g(this.cache,r)){var s=this.cache[r];if(Array.isArray(s))s="DIR";if(!i||s==="DIR")return e(null,s);if(i&&s==="FILE")return e()}var o;var a=this.statCache[r];if(a!==undefined){if(a===false)return e(null,a);else{var c=a.isDirectory()?"DIR":"FILE";if(i&&c==="FILE")return e();else return e(null,c,a)}}var u=this;var l=y("stat\0"+r,lstatcb_);if(l)n.lstat(r,l);function lstatcb_(i,s){if(s&&s.isSymbolicLink()){return n.stat(r,function(n,i){if(n)u._stat2(t,r,null,s,e);else u._stat2(t,r,n,i,e)})}else{u._stat2(t,r,i,s,e)}}};Glob.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR")){this.statCache[e]=false;return i()}var s=t.slice(-1)==="/";this.statCache[e]=n;if(e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,false,n);var o=true;if(n)o=n.isDirectory()?"DIR":"FILE";this.cache[e]=this.cache[e]||o;if(s&&o==="FILE")return i();return i(null,o,n)}},10:(t,e,r)=>{t.exports=globSync;globSync.GlobSync=GlobSync;var n=r(747);var i=r(863);var s=r(973);var o=s.Minimatch;var a=r(957).Glob;var c=r(669);var u=r(622);var l=r(357);var f=r(714);var h=r(625);var p=h.alphasort;var d=h.alphasorti;var m=h.setopts;var v=h.ownProp;var g=h.childrenIgnored;var y=h.isIgnored;function globSync(t,e){if(typeof e==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(t,e).found}function GlobSync(t,e){if(!t)throw new Error("must provide pattern");if(typeof e==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(t,e);m(this,t,e);if(this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++){this._process(this.minimatch.set[n],n,false)}this._finish()}GlobSync.prototype._finish=function(){l(this instanceof GlobSync);if(this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var s in e){try{s=t._makeAbs(s);var o=i.realpathSync(s,t.realpathCache);n[o]=true}catch(e){if(e.syscall==="stat")n[t._makeAbs(s)]=true;else throw e}}})}h.finish(this)};GlobSync.prototype._process=function(t,e,r){l(this instanceof GlobSync);var n=0;while(typeof t[n]==="string"){n++}var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var o=t.slice(n);var a;if(i===null)a=".";else if(f(i)||f(t.join("/"))){if(!i||!f(i))i="/"+i;a=i}else a=i;var c=this._makeAbs(a);if(g(this,a))return;var u=o[0]===s.GLOBSTAR;if(u)this._processGlobStar(i,a,c,o,e,r);else this._processReaddir(i,a,c,o,e,r)};GlobSync.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!o)return;var a=n[0];var c=!!this.minimatch.negate;var l=a._glob;var f=this.dot||l.charAt(0)===".";var h=[];for(var p=0;p<o.length;p++){var d=o[p];if(d.charAt(0)!=="."||f){var m;if(c&&!t){m=!d.match(a)}else{m=d.match(a)}if(m)h.push(d)}}var v=h.length;if(v===0)return;if(n.length===1&&!this.mark&&!this.stat){if(!this.matches[i])this.matches[i]=Object.create(null);for(var p=0;p<v;p++){var d=h[p];if(t){if(t.slice(-1)!=="/")d=t+"/"+d;else d=t+d}if(d.charAt(0)==="/"&&!this.nomount){d=u.join(this.root,d)}this._emitMatch(i,d)}return}n.shift();for(var p=0;p<v;p++){var d=h[p];var g;if(t)g=[t,d];else g=[d];this._process(g.concat(n),i,s)}};GlobSync.prototype._emitMatch=function(t,e){if(y(this,e))return;var r=this._makeAbs(e);if(this.mark)e=this._mark(e);if(this.absolute){e=r}if(this.matches[t][e])return;if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=true;if(this.stat)this._stat(e)};GlobSync.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,false);var e;var r;var i;try{r=n.lstatSync(t)}catch(t){if(t.code==="ENOENT"){return null}}var s=r&&r.isSymbolicLink();this.symlinks[t]=s;if(!s&&r&&!r.isDirectory())this.cache[t]="FILE";else e=this._readdir(t,false);return e};GlobSync.prototype._readdir=function(t,e){var r;if(e&&!v(this.symlinks,t))return this._readdirInGlobStar(t);if(v(this.cache,t)){var i=this.cache[t];if(!i||i==="FILE")return null;if(Array.isArray(i))return i}try{return this._readdirEntries(t,n.readdirSync(t))}catch(e){this._readdirError(t,e);return null}};GlobSync.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat){for(var r=0;r<e.length;r++){var n=e[r];if(t==="/")n=t+n;else n=t+"/"+n;this.cache[n]=true}}this.cache[t]=e;return e};GlobSync.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);this.cache[r]="FILE";if(r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);n.path=this.cwd;n.code=e.code;throw n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=false;break;default:this.cache[this._makeAbs(t)]=false;if(this.strict)throw e;if(!this.silent)console.error("glob error",e);break}};GlobSync.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!o)return;var a=n.slice(1);var c=t?[t]:[];var u=c.concat(a);this._process(u,i,false);var l=o.length;var f=this.symlinks[r];if(f&&s)return;for(var h=0;h<l;h++){var p=o[h];if(p.charAt(0)==="."&&!this.dot)continue;var d=c.concat(o[h],a);this._process(d,i,true);var m=c.concat(o[h],n);this._process(m,i,true)}};GlobSync.prototype._processSimple=function(t,e){var r=this._stat(t);if(!this.matches[e])this.matches[e]=Object.create(null);if(!r)return;if(t&&f(t)&&!this.nomount){var n=/[\/\\]$/.test(t);if(t.charAt(0)==="/"){t=u.join(this.root,t)}else{t=u.resolve(this.root,t);if(n)t+="/"}}if(process.platform==="win32")t=t.replace(/\\/g,"/");this._emitMatch(e,t)};GlobSync.prototype._stat=function(t){var e=this._makeAbs(t);var r=t.slice(-1)==="/";if(t.length>this.maxLength)return false;if(!this.stat&&v(this.cache,e)){var i=this.cache[e];if(Array.isArray(i))i="DIR";if(!r||i==="DIR")return i;if(r&&i==="FILE")return false}var s;var o=this.statCache[e];if(!o){var a;try{a=n.lstatSync(e)}catch(t){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR")){this.statCache[e]=false;return false}}if(a&&a.isSymbolicLink()){try{o=n.statSync(e)}catch(t){o=a}}else{o=a}}this.statCache[e]=o;var i=true;if(o)i=o.isDirectory()?"DIR":"FILE";this.cache[e]=this.cache[e]||i;if(r&&i==="FILE")return false;return i};GlobSync.prototype._mark=function(t){return h.mark(this,t)};GlobSync.prototype._makeAbs=function(t){return h.makeAbs(this,t)}},492:(t,e,r)=>{var n=r(940);var i=Object.create(null);var s=r(223);t.exports=n(inflight);function inflight(t,e){if(i[t]){i[t].push(e);return null}else{i[t]=[e];return makeres(t)}}function makeres(t){return s(function RES(){var e=i[t];var r=e.length;var n=slice(arguments);try{for(var s=0;s<r;s++){e[s].apply(null,n)}}finally{if(e.length>r){e.splice(0,r);process.nextTick(function(){RES.apply(null,n)})}else{delete i[t]}}})}function slice(t){var e=t.length;var r=[];for(var n=0;n<e;n++)r[n]=t[n];return r}},124:(t,e,r)=>{try{var n=r(669);if(typeof n.inherits!=="function")throw"";t.exports=n.inherits}catch(e){t.exports=r(544)}},544:t=>{if(typeof Object.create==="function"){t.exports=function inherits(t,e){if(e){t.super_=e;t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{t.exports=function inherits(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype;t.prototype=new r;t.prototype.constructor=t}}}},885:t=>{const{hasOwnProperty:e}=Object.prototype;const r=typeof process!=="undefined"&&process.platform==="win32"?"\r\n":"\n";const n=(t,e)=>{const s=[];let o="";if(typeof e==="string"){e={section:e,whitespace:false}}else{e=e||Object.create(null);e.whitespace=e.whitespace===true}const c=e.whitespace?" = ":"=";for(const e of Object.keys(t)){const n=t[e];if(n&&Array.isArray(n)){for(const t of n)o+=a(e+"[]")+c+a(t)+"\n"}else if(n&&typeof n==="object")s.push(e);else o+=a(e)+c+a(n)+r}if(e.section&&o.length)o="["+a(e.section)+"]"+r+o;for(const a of s){const s=i(a).join("\\.");const c=(e.section?e.section+".":"")+s;const{whitespace:u}=e;const l=n(t[a],{section:c,whitespace:u});if(o.length&&l.length)o+=r;o+=l}return o};const i=t=>t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(t=>t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,""));const s=t=>{const r=Object.create(null);let n=r;let s=null;const o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;const a=t.split(/[\r\n]+/g);for(const t of a){if(!t||t.match(/^\s*[;#]/))continue;const i=t.match(o);if(!i)continue;if(i[1]!==undefined){s=c(i[1]);if(s==="__proto__"){n=Object.create(null);continue}n=r[s]=r[s]||Object.create(null);continue}const a=c(i[2]);const u=a.length>2&&a.slice(-2)==="[]";const l=u?a.slice(0,-2):a;if(l==="__proto__")continue;const f=i[3]?c(i[4]):true;const h=f==="true"||f==="false"||f==="null"?JSON.parse(f):f;if(u){if(!e.call(n,l))n[l]=[];else if(!Array.isArray(n[l]))n[l]=[n[l]]}if(Array.isArray(n[l]))n[l].push(h);else n[l]=h}const u=[];for(const t of Object.keys(r)){if(!e.call(r,t)||typeof r[t]!=="object"||Array.isArray(r[t]))continue;const n=i(t);let s=r;const o=n.pop();const a=o.replace(/\\\./g,".");for(const t of n){if(t==="__proto__")continue;if(!e.call(s,t)||typeof s[t]!=="object")s[t]=Object.create(null);s=s[t]}if(s===r&&a===o)continue;s[a]=r[t];u.push(t)}for(const t of u)delete r[t];return r};const o=t=>t.charAt(0)==='"'&&t.slice(-1)==='"'||t.charAt(0)==="'"&&t.slice(-1)==="'";const a=t=>typeof t!=="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&o(t)||t!==t.trim()?JSON.stringify(t):t.replace(/;/g,"\\;").replace(/#/g,"\\#");const c=(t,e)=>{t=(t||"").trim();if(o(t)){if(t.charAt(0)==="'")t=t.substr(1,t.length-2);try{t=JSON.parse(t)}catch(t){}}else{let e=false;let r="";for(let n=0,i=t.length;n<i;n++){const i=t.charAt(n);if(e){if("\\;#".indexOf(i)!==-1)r+=i;else r+="\\"+i;e=false}else if(";#".indexOf(i)!==-1)break;else if(i==="\\")e=true;else r+=i}if(e)r+="\\";return r.trim()}return t};t.exports={parse:s,decode:s,stringify:n,encode:n,safe:a,unsafe:c}},973:(t,e,r)=>{t.exports=minimatch;minimatch.Minimatch=Minimatch;var n={sep:"/"};try{n=r(622)}catch(t){}var i=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var s=r(850);var o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var a="[^/]";var c=a+"*?";var u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var l="(?:(?!(?:\\/|^)\\.).)*?";var f=charSet("().*{}+?[]^$\\!");function charSet(t){return t.split("").reduce(function(t,e){t[e]=true;return t},{})}var h=/\/+/;minimatch.filter=filter;function filter(t,e){e=e||{};return function(r,n,i){return minimatch(r,t,e)}}function ext(t,e){t=t||{};e=e||{};var r={};Object.keys(e).forEach(function(t){r[t]=e[t]});Object.keys(t).forEach(function(e){r[e]=t[e]});return r}minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return minimatch;var e=minimatch;var r=function minimatch(r,n,i){return e.minimatch(r,n,ext(t,i))};r.Minimatch=function Minimatch(r,n){return new e.Minimatch(r,ext(t,n))};return r};Minimatch.defaults=function(t){if(!t||!Object.keys(t).length)return Minimatch;return minimatch.defaults(t).Minimatch};function minimatch(t,e,r){if(typeof e!=="string"){throw new TypeError("glob pattern string required")}if(!r)r={};if(!r.nocomment&&e.charAt(0)==="#"){return false}if(e.trim()==="")return t==="";return new Minimatch(e,r).match(t)}function Minimatch(t,e){if(!(this instanceof Minimatch)){return new Minimatch(t,e)}if(typeof t!=="string"){throw new TypeError("glob pattern string required")}if(!e)e={};t=t.trim();if(n.sep!=="/"){t=t.split(n.sep).join("/")}this.options=e;this.set=[];this.pattern=t;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){if(this._made)return;var t=this.pattern;var e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=true;return}if(!t){this.empty=true;return}this.parseNegate();var r=this.globSet=this.braceExpand();if(e.debug)this.debug=console.error;this.debug(this.pattern,r);r=this.globParts=r.map(function(t){return t.split(h)});this.debug(this.pattern,r);r=r.map(function(t,e,r){return t.map(this.parse,this)},this);this.debug(this.pattern,r);r=r.filter(function(t){return t.indexOf(false)===-1});this.debug(this.pattern,r);this.set=r}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var t=this.pattern;var e=false;var r=this.options;var n=0;if(r.nonegate)return;for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++){e=!e;n++}if(n)this.pattern=t.substr(n);this.negate=e}minimatch.braceExpand=function(t,e){return braceExpand(t,e)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(t,e){if(!e){if(this instanceof Minimatch){e=this.options}else{e={}}}t=typeof t==="undefined"?this.pattern:t;if(typeof t==="undefined"){throw new TypeError("undefined pattern")}if(e.nobrace||!t.match(/\{.*\}/)){return[t]}return s(t)}Minimatch.prototype.parse=parse;var p={};function parse(t,e){if(t.length>1024*64){throw new TypeError("pattern is too long")}var r=this.options;if(!r.noglobstar&&t==="**")return i;if(t==="")return"";var n="";var s=!!r.nocase;var u=false;var l=[];var h=[];var d;var m=false;var v=-1;var g=-1;var y=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var _=this;function clearStateChar(){if(d){switch(d){case"*":n+=c;s=true;break;case"?":n+=a;s=true;break;default:n+="\\"+d;break}_.debug("clearStateChar %j %j",d,n);d=false}}for(var b=0,E=t.length,w;b<E&&(w=t.charAt(b));b++){this.debug("%s\t%s %s %j",t,b,n,w);if(u&&f[w]){n+="\\"+w;u=false;continue}switch(w){case"/":return false;case"\\":clearStateChar();u=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",t,b,n,w);if(m){this.debug("  in class");if(w==="!"&&b===g+1)w="^";n+=w;continue}_.debug("call clearStateChar %j",d);clearStateChar();d=w;if(r.noext)clearStateChar();continue;case"(":if(m){n+="(";continue}if(!d){n+="\\(";continue}l.push({type:d,start:b-1,reStart:n.length,open:o[d].open,close:o[d].close});n+=d==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",d,n);d=false;continue;case")":if(m||!l.length){n+="\\)";continue}clearStateChar();s=true;var S=l.pop();n+=S.close;if(S.type==="!"){h.push(S)}S.reEnd=n.length;continue;case"|":if(m||!l.length||u){n+="\\|";u=false;continue}clearStateChar();n+="|";continue;case"[":clearStateChar();if(m){n+="\\"+w;continue}m=true;g=b;v=n.length;n+=w;continue;case"]":if(b===g+1||!m){n+="\\"+w;u=false;continue}if(m){var O=t.substring(g+1,b);try{RegExp("["+O+"]")}catch(t){var A=this.parse(O,p);n=n.substr(0,v)+"\\["+A[0]+"\\]";s=s||A[1];m=false;continue}}s=true;m=false;n+=w;continue;default:clearStateChar();if(u){u=false}else if(f[w]&&!(w==="^"&&m)){n+="\\"}n+=w}}if(m){O=t.substr(g+1);A=this.parse(O,p);n=n.substr(0,v)+"\\["+A[0];s=s||A[1]}for(S=l.pop();S;S=l.pop()){var C=n.slice(S.reStart+S.open.length);this.debug("setting tail",n,S);C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){if(!r){r="\\"}return e+e+r+"|"});this.debug("tail=%j\n   %s",C,C,S,n);var k=S.type==="*"?c:S.type==="?"?a:"\\"+S.type;s=true;n=n.slice(0,S.reStart)+k+"\\("+C}clearStateChar();if(u){n+="\\\\"}var I=false;switch(n.charAt(0)){case".":case"[":case"(":I=true}for(var T=h.length-1;T>-1;T--){var R=h[T];var N=n.slice(0,R.reStart);var $=n.slice(R.reStart,R.reEnd-8);var G=n.slice(R.reEnd-8,R.reEnd);var j=n.slice(R.reEnd);G+=j;var x=N.split("(").length-1;var D=j;for(b=0;b<x;b++){D=D.replace(/\)[+*?]?/,"")}j=D;var L="";if(j===""&&e!==p){L="$"}var M=N+$+j+L+G;n=M}if(n!==""&&s){n="(?=.)"+n}if(I){n=y+n}if(e===p){return[n,s]}if(!s){return globUnescape(t)}var P=r.nocase?"i":"";try{var F=new RegExp("^"+n+"$",P)}catch(t){return new RegExp("$.")}F._glob=t;F._src=n;return F}minimatch.makeRe=function(t,e){return new Minimatch(t,e||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var t=this.set;if(!t.length){this.regexp=false;return this.regexp}var e=this.options;var r=e.noglobstar?c:e.dot?u:l;var n=e.nocase?"i":"";var s=t.map(function(t){return t.map(function(t){return t===i?r:typeof t==="string"?regExpEscape(t):t._src}).join("\\/")}).join("|");s="^(?:"+s+")$";if(this.negate)s="^(?!"+s+").*$";try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=false}return this.regexp}minimatch.match=function(t,e,r){r=r||{};var n=new Minimatch(e,r);t=t.filter(function(t){return n.match(t)});if(n.options.nonull&&!t.length){t.push(e)}return t};Minimatch.prototype.match=match;function match(t,e){this.debug("match",t,this.pattern);if(this.comment)return false;if(this.empty)return t==="";if(t==="/"&&e)return true;var r=this.options;if(n.sep!=="/"){t=t.split(n.sep).join("/")}t=t.split(h);this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var s;var o;for(o=t.length-1;o>=0;o--){s=t[o];if(s)break}for(o=0;o<i.length;o++){var a=i[o];var c=t;if(r.matchBase&&a.length===1){c=[s]}var u=this.matchOne(c,a,e);if(u){if(r.flipNegate)return true;return!this.negate}}if(r.flipNegate)return false;return this.negate}Minimatch.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e});this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,c=e.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=e[o];var l=t[s];this.debug(e,u,l);if(u===false)return false;if(u===i){this.debug("GLOBSTAR",[e,u,l]);var f=s;var h=o+1;if(h===c){this.debug("** at the end");for(;s<a;s++){if(t[s]==="."||t[s]===".."||!n.dot&&t[s].charAt(0)===".")return false}return true}while(f<a){var p=t[f];this.debug("\nglobstar while",t,f,e,h,p);if(this.matchOne(t.slice(f),e.slice(h),r)){this.debug("globstar found match!",f,a,p);return true}else{if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",t,f,e,h);break}this.debug("globstar swallow a segment, and continue");f++}}if(r){this.debug("\n>>> no match, partial?",t,f,e,h);if(f===a)return true}return false}var d;if(typeof u==="string"){if(n.nocase){d=l.toLowerCase()===u.toLowerCase()}else{d=l===u}this.debug("string match",u,l,d)}else{d=l.match(u);this.debug("pattern match",u,l,d)}if(!d)return false}if(s===a&&o===c){return true}else if(s===a){return r}else if(o===c){var m=s===a-1&&t[s]==="";return m}throw new Error("wtf?")};function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},223:(t,e,r)=>{var n=r(940);t.exports=n(once);t.exports.strict=n(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})});function once(t){var e=function(){if(e.called)return e.value;e.called=true;return e.value=t.apply(this,arguments)};e.called=false;return e}function onceStrict(t){var e=function(){if(e.called)throw new Error(e.onceError);e.called=true;return e.value=t.apply(this,arguments)};var r=t.name||"Function wrapped with `once`";e.onceError=r+" shouldn't be called more than once";e.called=false;return e}},714:t=>{"use strict";function posix(t){return t.charAt(0)==="/"}function win32(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var r=e.exec(t);var n=r[1]||"";var i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}t.exports=process.platform==="win32"?win32:posix;t.exports.posix=posix;t.exports.win32=win32},959:(t,e,r)=>{const n=r(357);const i=r(622);const s=r(747);let o=undefined;try{o=r(957)}catch(t){}const a={nosort:true,silent:true};let c=0;const u=process.platform==="win32";const l=t=>{const e=["unlink","chmod","stat","lstat","rmdir","readdir"];e.forEach(e=>{t[e]=t[e]||s[e];e=e+"Sync";t[e]=t[e]||s[e]});t.maxBusyTries=t.maxBusyTries||3;t.emfileWait=t.emfileWait||1e3;if(t.glob===false){t.disableGlob=true}if(t.disableGlob!==true&&o===undefined){throw Error("glob dependency not found, set `options.disableGlob = true` if intentional")}t.disableGlob=t.disableGlob||false;t.glob=t.glob||a};const f=(t,e,r)=>{if(typeof e==="function"){r=e;e={}}n(t,"rimraf: missing path");n.equal(typeof t,"string","rimraf: path should be a string");n.equal(typeof r,"function","rimraf: callback function required");n(e,"rimraf: invalid options argument provided");n.equal(typeof e,"object","rimraf: options should be object");l(e);let i=0;let s=null;let a=0;const u=t=>{s=s||t;if(--a===0)r(s)};const f=(t,n)=>{if(t)return r(t);a=n.length;if(a===0)return r();n.forEach(t=>{const r=n=>{if(n){if((n.code==="EBUSY"||n.code==="ENOTEMPTY"||n.code==="EPERM")&&i<e.maxBusyTries){i++;return setTimeout(()=>h(t,e,r),i*100)}if(n.code==="EMFILE"&&c<e.emfileWait){return setTimeout(()=>h(t,e,r),c++)}if(n.code==="ENOENT")n=null}c=0;u(n)};h(t,e,r)})};if(e.disableGlob||!o.hasMagic(t))return f(null,[t]);e.lstat(t,(r,n)=>{if(!r)return f(null,[t]);o(t,e.glob,f)})};const h=(t,e,r)=>{n(t);n(e);n(typeof r==="function");e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&u)p(t,e,n,r);if(i&&i.isDirectory())return m(t,e,n,r);e.unlink(t,n=>{if(n){if(n.code==="ENOENT")return r(null);if(n.code==="EPERM")return u?p(t,e,n,r):m(t,e,n,r);if(n.code==="EISDIR")return m(t,e,n,r)}return r(n)})})};const p=(t,e,r,i)=>{n(t);n(e);n(typeof i==="function");e.chmod(t,438,n=>{if(n)i(n.code==="ENOENT"?null:r);else e.stat(t,(n,s)=>{if(n)i(n.code==="ENOENT"?null:r);else if(s.isDirectory())m(t,e,r,i);else e.unlink(t,i)})})};const d=(t,e,r)=>{n(t);n(e);try{e.chmodSync(t,438)}catch(t){if(t.code==="ENOENT")return;else throw r}let i;try{i=e.statSync(t)}catch(t){if(t.code==="ENOENT")return;else throw r}if(i.isDirectory())y(t,e,r);else e.unlinkSync(t)};const m=(t,e,r,i)=>{n(t);n(e);n(typeof i==="function");e.rmdir(t,n=>{if(n&&(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM"))v(t,e,i);else if(n&&n.code==="ENOTDIR")i(r);else i(n)})};const v=(t,e,r)=>{n(t);n(e);n(typeof r==="function");e.readdir(t,(n,s)=>{if(n)return r(n);let o=s.length;if(o===0)return e.rmdir(t,r);let a;s.forEach(n=>{f(i.join(t,n),e,n=>{if(a)return;if(n)return r(a=n);if(--o===0)e.rmdir(t,r)})})})};const g=(t,e)=>{e=e||{};l(e);n(t,"rimraf: missing path");n.equal(typeof t,"string","rimraf: path should be a string");n(e,"rimraf: missing options");n.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!o.hasMagic(t)){r=[t]}else{try{e.lstatSync(t);r=[t]}catch(n){r=o.sync(t,e.glob)}}if(!r.length)return;for(let t=0;t<r.length;t++){const n=r[t];let i;try{i=e.lstatSync(n)}catch(t){if(t.code==="ENOENT")return;if(t.code==="EPERM"&&u)d(n,e,t)}try{if(i&&i.isDirectory())y(n,e,null);else e.unlinkSync(n)}catch(t){if(t.code==="ENOENT")return;if(t.code==="EPERM")return u?d(n,e,t):y(n,e,t);if(t.code!=="EISDIR")throw t;y(n,e,t)}}};const y=(t,e,r)=>{n(t);n(e);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")_(t,e)}};const _=(t,e)=>{n(t);n(e);e.readdirSync(t).forEach(r=>g(i.join(t,r),e));const r=u?100:1;let s=0;do{let n=true;try{const i=e.rmdirSync(t,e);n=false;return i}finally{if(++s<r&&n)continue}}while(true)};t.exports=f;f.sync=g},517:(t,e,r)=>{const n=r(747);const i=r(87);const s=r(622);const o=r(417);const a={fs:n.constants,os:i.constants};const c=r(959);const u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",l=/XXXXXX/,f=3,h=(a.O_CREAT||a.fs.O_CREAT)|(a.O_EXCL||a.fs.O_EXCL)|(a.O_RDWR||a.fs.O_RDWR),p=i.platform()==="win32",d=a.EBADF||a.os.errno.EBADF,m=a.ENOENT||a.os.errno.ENOENT,v=448,g=384,y="exit",_=[],b=n.rmdirSync.bind(n),E=c.sync;let w=false;function tmpName(t,e){const r=_parseArguments(t,e),i=r[0],s=r[1];try{_assertAndSanitizeOptions(i)}catch(t){return s(t)}let o=i.tries;(function _getUniqueName(){try{const t=_generateTmpName(i);n.stat(t,function(e){if(!e){if(o-- >0)return _getUniqueName();return s(new Error("Could not get a unique tmp filename, max tries reached "+t))}s(null,t)})}catch(t){s(t)}})()}function tmpNameSync(t){const e=_parseArguments(t),r=e[0];_assertAndSanitizeOptions(r);let i=r.tries;do{const t=_generateTmpName(r);try{n.statSync(t)}catch(e){return t}}while(i-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function file(t,e){const r=_parseArguments(t,e),i=r[0],s=r[1];tmpName(i,function _tmpNameCreated(t,e){if(t)return s(t);n.open(e,h,i.mode||g,function _fileCreated(t,r){if(t)return s(t);if(i.discardDescriptor){return n.close(r,function _discardCallback(t){return s(t,e,undefined,_prepareTmpFileRemoveCallback(e,-1,i,false))})}else{const t=i.discardDescriptor||i.detachDescriptor;s(null,e,r,_prepareTmpFileRemoveCallback(e,t?-1:r,i,false))}})})}function fileSync(t){const e=_parseArguments(t),r=e[0];const i=r.discardDescriptor||r.detachDescriptor;const s=tmpNameSync(r);var o=n.openSync(s,h,r.mode||g);if(r.discardDescriptor){n.closeSync(o);o=undefined}return{name:s,fd:o,removeCallback:_prepareTmpFileRemoveCallback(s,i?-1:o,r,true)}}function dir(t,e){const r=_parseArguments(t,e),i=r[0],s=r[1];tmpName(i,function _tmpNameCreated(t,e){if(t)return s(t);n.mkdir(e,i.mode||v,function _dirCreated(t){if(t)return s(t);s(null,e,_prepareTmpDirRemoveCallback(e,i,false))})})}function dirSync(t){const e=_parseArguments(t),r=e[0];const i=tmpNameSync(r);n.mkdirSync(i,r.mode||v);return{name:i,removeCallback:_prepareTmpDirRemoveCallback(i,r,true)}}function _removeFileAsync(t,e){const r=function(t){if(t&&!_isENOENT(t)){return e(t)}e()};if(0<=t[0])n.close(t[0],function(){n.unlink(t[1],r)});else n.unlink(t[1],r)}function _removeFileSync(t){let e=null;try{if(0<=t[0])n.closeSync(t[0])}catch(t){if(!_isEBADF(t)&&!_isENOENT(t))throw t}finally{try{n.unlinkSync(t[1])}catch(t){if(!_isENOENT(t))e=t}}if(e!==null){throw e}}function _prepareTmpFileRemoveCallback(t,e,r,n){const i=_prepareRemoveCallback(_removeFileSync,[e,t],n);const s=_prepareRemoveCallback(_removeFileAsync,[e,t],n,i);if(!r.keep)_.unshift(i);return n?i:s}function _prepareTmpDirRemoveCallback(t,e,r){const i=e.unsafeCleanup?c:n.rmdir.bind(n);const s=e.unsafeCleanup?E:b;const o=_prepareRemoveCallback(s,t,r);const a=_prepareRemoveCallback(i,t,r,o);if(!e.keep)_.unshift(o);return r?o:a}function _prepareRemoveCallback(t,e,r,n){let i=false;return function _cleanupCallback(s){if(!i){const o=n||_cleanupCallback;const a=_.indexOf(o);if(a>=0)_.splice(a,1);i=true;if(r||t===b||t===E){return t(e)}else{return t(e,s||function(){})}}}}function _garbageCollector(){if(!w)return;while(_.length){try{_[0]()}catch(t){}}}function _randomChars(t){let e=[],r=null;try{r=o.randomBytes(t)}catch(e){r=o.pseudoRandomBytes(t)}for(var n=0;n<t;n++){e.push(u[r[n]%u.length])}return e.join("")}function _isBlank(t){return t===null||_isUndefined(t)||!t.trim()}function _isUndefined(t){return typeof t==="undefined"}function _parseArguments(t,e){if(typeof t==="function"){return[{},t]}if(_isUndefined(t)){return[{},e]}const r={};for(const e of Object.getOwnPropertyNames(t)){r[e]=t[e]}return[r,e]}function _generateTmpName(t){const e=t.tmpdir;if(!_isUndefined(t.name))return s.join(e,t.dir,t.name);if(!_isUndefined(t.template))return s.join(e,t.dir,t.template).replace(l,_randomChars(6));const r=[t.prefix?t.prefix:"tmp","-",process.pid,"-",_randomChars(12),t.postfix?"-"+t.postfix:""].join("");return s.join(e,t.dir,r)}function _assertAndSanitizeOptions(t){t.tmpdir=_getTmpDir(t);const e=t.tmpdir;if(!_isUndefined(t.name))_assertIsRelative(t.name,"name",e);if(!_isUndefined(t.dir))_assertIsRelative(t.dir,"dir",e);if(!_isUndefined(t.template)){_assertIsRelative(t.template,"template",e);if(!t.template.match(l))throw new Error(`Invalid template, found "${t.template}".`)}if(!_isUndefined(t.tries)&&isNaN(t.tries)||t.tries<0)throw new Error(`Invalid tries, found "${t.tries}".`);t.tries=_isUndefined(t.name)?t.tries||f:1;t.keep=!!t.keep;t.detachDescriptor=!!t.detachDescriptor;t.discardDescriptor=!!t.discardDescriptor;t.unsafeCleanup=!!t.unsafeCleanup;t.dir=_isUndefined(t.dir)?"":s.relative(e,_resolvePath(t.dir,e));t.template=_isUndefined(t.template)?undefined:s.relative(e,_resolvePath(t.template,e));t.template=_isBlank(t.template)?undefined:s.relative(t.dir,t.template);t.name=_isUndefined(t.name)?undefined:_sanitizeName(t.name);t.prefix=_isUndefined(t.prefix)?"":t.prefix;t.postfix=_isUndefined(t.postfix)?"":t.postfix}function _resolvePath(t,e){const r=_sanitizeName(t);if(r.startsWith(e)){return s.resolve(r)}else{return s.resolve(s.join(e,r))}}function _sanitizeName(t){if(_isBlank(t)){return t}return t.replace(/["']/g,"")}function _assertIsRelative(t,e,r){if(e==="name"){if(s.isAbsolute(t))throw new Error(`${e} option must not contain an absolute path, found "${t}".`);let r=s.basename(t);if(r===".."||r==="."||r!==t)throw new Error(`${e} option must not contain a path, found "${t}".`)}else{if(s.isAbsolute(t)&&!t.startsWith(r)){throw new Error(`${e} option must be relative to "${r}", found "${t}".`)}let n=_resolvePath(t,r);if(!n.startsWith(r))throw new Error(`${e} option must be relative to "${r}", found "${n}".`)}}function _isEBADF(t){return _isExpectedError(t,-d,"EBADF")}function _isENOENT(t){return _isExpectedError(t,-m,"ENOENT")}function _isExpectedError(t,e,r){return p?t.code===r:t.code===r&&t.errno===e}function setGracefulCleanup(){w=true}function _getTmpDir(t){return s.resolve(_sanitizeName(t&&t.tmpdir||i.tmpdir()))}process.addListener(y,_garbageCollector);Object.defineProperty(t.exports,"tmpdir",{enumerable:true,configurable:false,get:function(){return _getTmpDir()}});t.exports.dir=dir;t.exports.dirSync=dirSync;t.exports.file=file;t.exports.fileSync=fileSync;t.exports.tmpName=tmpName;t.exports.tmpNameSync=tmpNameSync;t.exports.setGracefulCleanup=setGracefulCleanup},940:t=>{t.exports=wrappy;function wrappy(t,e){if(t&&e)return wrappy(t)(e);if(typeof t!=="function")throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){wrapper[e]=t[e]});return wrapper;function wrapper(){var e=new Array(arguments.length);for(var r=0;r<e.length;r++){e[r]=arguments[r]}var n=t.apply(this,e);var i=e[e.length-1];if(typeof n==="function"&&n!==i){Object.keys(i).forEach(function(t){n[t]=i[t]})}return n}}},987:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.BuildahCli=void 0;const n=r(186);const i=r(514);const s=r(622);const o=r(314);class BuildahCli{constructor(t){this.storageOptsEnv="";this.executable=t}async setStorageOptsEnv(){if(await o.isStorageDriverOverlay()){const t=await o.findFuseOverlayfsPath();if(t){n.info(`Overriding storage mount_program with "fuse-overlayfs" in environment`);this.storageOptsEnv=`overlay.mount_program=${t}`}else{n.warning(`"fuse-overlayfs" is not found. Install it before running this action. `+`For more detail see https://github.com/redhat-actions/buildah-build/issues/45`)}}else{n.info("Storage driver is not 'overlay', so not overriding storage configuration")}}static getImageFormatOption(t){return["--format",t?"oci":"docker"]}async buildUsingDocker(t,e,r,n,i,s,o,a,c,u,l){const f=["bud"];if(u){f.push("--arch");f.push(u)}if(l){f.push("--platform");f.push(l)}r.forEach(t=>{f.push("-f");f.push(t)});s.forEach(t=>{f.push("--label");f.push(t)});n.forEach(t=>{f.push("--build-arg");f.push(t)});f.push(...BuildahCli.getImageFormatOption(i));f.push(`--tls-verify=${c}`);if(o){f.push(`--layers=${o}`)}if(a.length>0){f.push(...a)}f.push("-t");f.push(t);f.push(e);return this.execute(f)}async from(t,e,r){const n=["from"];n.push(`--tls-verify=${e}`);if(r.length>0){n.push(...r)}n.push(t);return this.execute(n)}async copy(t,e,r){if(e.length===0){return undefined}n.debug("copy");n.debug(t);for(const n of e){const e=["copy",t,n];if(r){e.push(r)}return this.execute(e)}return undefined}async config(t,e){n.debug("config");n.debug(t);const r=["config"];if(e.entrypoint){r.push("--entrypoint");r.push(BuildahCli.convertArrayToStringArg(e.entrypoint))}if(e.port){r.push("--port");r.push(e.port)}if(e.envs){e.envs.forEach(t=>{r.push("--env");r.push(t)})}if(e.arch){r.push("--arch");r.push(e.arch)}if(e.workingdir){r.push("--workingdir");r.push(e.workingdir)}if(e.labels){e.labels.forEach(t=>{r.push("--label");r.push(t)})}r.push(t);return this.execute(r)}async commit(t,e,r){n.debug("commit");n.debug(t);n.debug(e);const i=["commit",...BuildahCli.getImageFormatOption(r),"--squash",t,e];return this.execute(i)}async tag(t,e){const r=["tag"];const i=[];for(const n of e){r.push(o.getFullImageName(t,n));i.push(o.getFullImageName(t,n))}n.info(`Tagging the built image with tags ${e.toString()}`);await this.execute(r);n.info(` Successfully built image${i.length!==1?"s":""} "${i.join(", ")}"`)}async manifestCreate(t){const e=["manifest","create"];e.push(t);n.info(`Creating manifest ${t}`);await this.execute(e)}async manifestAdd(t,e){const r=["manifest","add"];r.push(t);r.push(e);n.info(`Adding image "${e}" to the manifest.`);await this.execute(r)}static convertArrayToStringArg(t){let e="[";t.forEach(t=>{e+=`"${t}",`});return`${e.slice(0,-1)}]`}async execute(t,e={}){let r="";let o="";const a={...e};a.ignoreReturnCode=true;a.listeners={stdline:t=>{r+=t+"\n"},errline:t=>{o+=t+"\n"}};if(e.group){const e=[this.executable,...t].join(" ");n.startGroup(e)}const c={};Object.entries(process.env).forEach(([t,e])=>{if(e!=null){c[t]=e}});if(this.storageOptsEnv){c.STORAGE_OPTS=this.storageOptsEnv}a.env=c;try{const c=await i.exec(this.executable,t,a);if(e.ignoreReturnCode!==true&&c!==0){let t=`${s.basename(this.executable)} exited with code ${c}`;if(o){t+=`\n${o}`}throw new Error(t)}return{exitCode:c,output:r,error:o}}finally{if(e.group){n.endGroup()}}}}e.BuildahCli=BuildahCli},69:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.Outputs=e.Inputs=void 0;var r;(function(t){t["ARCH"]="arch";t["ARCHS"]="archs";t["BASE_IMAGE"]="base-image";t["BUILD_ARGS"]="build-args";t["CONTAINERFILES"]="containerfiles";t["CONTENT"]="content";t["CONTEXT"]="context";t["DOCKERFILES"]="dockerfiles";t["ENTRYPOINT"]="entrypoint";t["ENVS"]="envs";t["EXTRA_ARGS"]="extra-args";t["IMAGE"]="image";t["LABELS"]="labels";t["LAYERS"]="layers";t["OCI"]="oci";t["PLATFORM"]="platform";t["PLATFORMS"]="platforms";t["PORT"]="port";t["TAGS"]="tags";t["TLS_VERIFY"]="tls-verify";t["WORKDIR"]="workdir"})(r=e.Inputs||(e.Inputs={}));var n;(function(t){t["IMAGE"]="image";t["IMAGE_WITH_TAG"]="image-with-tag";t["TAGS"]="tags"})(n=e.Outputs||(e.Outputs={}))},144:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.run=void 0;const n=r(186);const i=r(436);const s=r(622);const o=r(747);const a=r(517);const c=r(69);const u=r(987);const l=r(314);async function run(){if(process.env.RUNNER_OS!=="Linux"){throw new Error("buildah, and therefore this action, only works on Linux. Please use a Linux runner.")}const t=await i.which("buildah",true);const e=new u.BuildahCli(t);await e.execute(["version"],{group:true});await e.setStorageOptsEnv();const r="latest";const s=process.env.GITHUB_WORKSPACE||process.cwd();const o=l.getContainerfiles();const a=n.getInput(c.Inputs.IMAGE);const f=n.getInput(c.Inputs.TAGS);const h=f.trim().split(/\s+/);const p=n.getInput(c.Inputs.LABELS);const d=p?l.splitByNewline(p):[];const m=[];let v=false;for(const t of h){m.push(t.toLowerCase());if(t.toLowerCase()!==t){v=true}}const g=a.toLowerCase();if(v||a!==g){n.warning(`Reference to image and/or tag must be lowercase.`+` Reference has been converted to be compliant with standard.`)}if(h.length===0){n.info(`Input "${c.Inputs.TAGS}" is not provided, using default tag "${r}"`);h.push(r)}const y=n.getInput(c.Inputs.EXTRA_ARGS);let _=[];if(y){const t=l.splitByNewline(y);_=t.flatMap(t=>t.split(" ")).map(t=>t.trim())}const b=l.isFullImageName(m[0]);if(m.some(t=>l.isFullImageName(t)!==b)){throw new Error(`Input "${c.Inputs.TAGS}" cannot have a mix of full name and non full name tags. Refer to https://github.com/redhat-actions/buildah-build#image-tag-inputs`)}if(!b&&!g){throw new Error(`Input "${c.Inputs.IMAGE}" must be provided when not using full image name tags. Refer to https://github.com/redhat-actions/buildah-build#image-tag-inputs`)}const E=l.getFullImageName(g,m[0]);const w=n.getInput(c.Inputs.OCI)==="true";const S=l.getArch();const O=l.getPlatform();if(S.length>0&&O.length>0){throw new Error("The --platform option may not be used in combination with the --arch option.")}const A=[];if(o.length!==0){A.push(...await doBuildUsingContainerFiles(e,E,s,o,w,S,O,d,_))}else{if(O.length>0){throw new Error("The --platform option is not supported for builds without containerfiles.")}A.push(...await doBuildFromScratch(e,E,w,S,d,_))}if(S.length>1||O.length>1){n.info(`Creating manifest with tag${m.length!==1?"s":""} `+`"${m.join(", ")}"`);const t=[];for(const r of m){const n=l.getFullImageName(g,r);await e.manifestCreate(n);t.push(n);for(const t of S){const r=l.removeIllegalCharacters(t);await e.manifestAdd(n,`${E}-${r}`)}for(const t of O){const r=l.removeIllegalCharacters(t);await e.manifestAdd(n,`${E}-${r}`)}}n.info(` Successfully built image${A.length!==1?"s":""} "${A.join(", ")}" `+`and manifest${t.length!==1?"s":""} "${t.join(", ")}"`)}else if(m.length>1){await e.tag(g,m)}else if(m.length===1){n.info(` Successfully built image "${l.getFullImageName(g,m[0])}"`)}n.setOutput(c.Outputs.IMAGE,g);n.setOutput(c.Outputs.TAGS,f);n.setOutput(c.Outputs.IMAGE_WITH_TAG,E)}e.run=run;const f=`ARG NODE_BUILD_CACHE_PATH=/nodenv\nARG NPM_CONFIG_HOME=/npm\nARG NPM_CONFIG_CACHE=/npm/cache\nARG NPM_CONFIG_LOGS_DIR\nARG CYPRESS_DOWNLOAD_MIRROR=https://http-proxy-cache.rebuy.dev/cypress/\nARG PUPPETEER_DOWNLOAD_PATH=/puppeteer\nARG PUPPETEER_DOWNLOAD_HOST=https://http-proxy-cache.rebuy.dev/puppeteer\nARG LC_ALL=en_US.UTF-8\nARG LANG=en_US.UTF-8`;function getContainerFiles(t,e){return t.map(t=>{const r=s.join(e,t);let i=o.readFileSync(r,{encoding:"utf-8"});i=i.replace("### ENV ###",f);n.info(i);const c=a.fileSync({keep:true});n.info(c.name);o.writeFileSync(c.name,i);return c.name})}async function doBuildUsingContainerFiles(t,e,r,i,o,a,u,f,h){if(i.length===1){n.info(`Performing build from Containerfile`)}else{n.info(`Performing build from ${i.length} Containerfiles`)}const p=s.join(r,n.getInput(c.Inputs.CONTEXT));const d=l.getInputList(c.Inputs.BUILD_ARGS);const m=getContainerFiles(i,r);const v=n.getInput(c.Inputs.LAYERS);const g=n.getInput(c.Inputs.TLS_VERIFY)==="true";const y=[];if(a.length>0||u.length>0){for(const r of a){let n="";if(a.length>1){n=`-${l.removeIllegalCharacters(r)}`}await t.buildUsingDocker(`${e}${n}`,p,m,d,o,f,v,h,g,r,undefined);y.push(`${e}${n}`)}for(const r of u){let n="";if(u.length>1){n=`-${l.removeIllegalCharacters(r)}`}await t.buildUsingDocker(`${e}${n}`,p,m,d,o,f,v,h,g,undefined,r);y.push(`${e}${n}`)}}else if(a.length===1||u.length===1){await t.buildUsingDocker(e,p,m,d,o,f,v,h,g,a[0],u[0]);y.push(e)}else{await t.buildUsingDocker(e,p,m,d,o,f,v,h,g);y.push(e)}return y}async function doBuildFromScratch(t,e,r,i,s,o){n.info(`Performing build from scratch`);const a=n.getInput(c.Inputs.BASE_IMAGE,{required:true});const u=l.getInputList(c.Inputs.CONTENT);const f=l.getInputList(c.Inputs.ENTRYPOINT);const h=n.getInput(c.Inputs.PORT);const p=n.getInput(c.Inputs.WORKDIR);const d=l.getInputList(c.Inputs.ENVS);const m=n.getInput(c.Inputs.TLS_VERIFY)==="true";const v=await t.from(a,m,o);const g=v.output.replace("\n","");const y=[];if(i.length>0){for(const n of i){let o="";if(i.length>1){o=`-${l.removeIllegalCharacters(n)}`}const a={entrypoint:f,port:h,workingdir:p,envs:d,arch:n,labels:s};await t.config(g,a);await t.copy(g,u);await t.commit(g,`${e}${o}`,r);y.push(`${e}${o}`)}}else{const n={entrypoint:f,port:h,workingdir:p,envs:d,labels:s};await t.config(g,n);await t.copy(g,u);await t.commit(g,e,r);y.push(e)}return y}run().catch(n.setFailed)},314:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:true});e.removeIllegalCharacters=e.getFullImageName=e.isFullImageName=e.getCommaSeperatedInput=e.getInputList=e.getContainerfiles=e.getPlatform=e.getArch=e.splitByNewline=e.findFuseOverlayfsPath=e.isStorageDriverOverlay=void 0;const n=r(885);const i=r(747);const s=r(186);const o=r(622);const a=r(436);const c=r(87);const u=r(69);async function findStorageDriver(t){let e="";for(const r of t){s.debug(`Checking if the storage file exists at ${r}`);if(await fileExists(r)){s.debug(`Storage file exists at ${r}`);const t=n.parse(await i.promises.readFile(r,"utf-8"));if(t.storage.driver){e=t.storage.driver}}}return e}async function isStorageDriverOverlay(){let t=o.join(c.homedir(),".config");if(process.env.XDG_CONFIG_HOME){t=process.env.XDG_CONFIG_HOME}const e=["/etc/containers/storage.conf",o.join(t,"containers/storage.conf")];const r=await findStorageDriver(e);return r==="overlay"}e.isStorageDriverOverlay=isStorageDriverOverlay;async function fileExists(t){try{await i.promises.access(t);return true}catch(t){return false}}async function findFuseOverlayfsPath(){let t;try{t=await a.which("fuse-overlayfs")}catch(t){s.debug(t)}return t}e.findFuseOverlayfsPath=findFuseOverlayfsPath;function splitByNewline(t){return t.split(/\r?\n/)}e.splitByNewline=splitByNewline;function getArch(){const t=getCommaSeperatedInput(u.Inputs.ARCHS);const e=s.getInput(u.Inputs.ARCH);if(e&&t.length>0){s.warning(`Both "${u.Inputs.ARCH}" and "${u.Inputs.ARCHS}" inputs are set. `+`Please use "${u.Inputs.ARCH}" if you want to provide multiple `+`ARCH else use ${u.Inputs.ARCH}". "${u.Inputs.ARCHS}" takes preference.`)}if(t.length>0){return t}else if(e){return[e]}return[]}e.getArch=getArch;function getPlatform(){const t=s.getInput(u.Inputs.PLATFORM);const e=getCommaSeperatedInput(u.Inputs.PLATFORMS);if(t&&e.length>0){s.warning(`Both "${u.Inputs.PLATFORM}" and "${u.Inputs.PLATFORMS}" inputs are set. `+`Please use "${u.Inputs.PLATFORMS}" if you want to provide multiple `+`PLATFORM else use ${u.Inputs.PLATFORM}". "${u.Inputs.PLATFORMS}" takes preference.`)}if(e.length>0){s.debug("return platforms");return e}else if(t){s.debug("return platform");return[t]}s.debug("return empty");return[]}e.getPlatform=getPlatform;function getContainerfiles(){const t=getInputList(u.Inputs.CONTAINERFILES);const e=getInputList(u.Inputs.DOCKERFILES);if(t.length!==0&&e.length!==0){s.warning(`Both "${u.Inputs.CONTAINERFILES}" and "${u.Inputs.DOCKERFILES}" inputs are set. `+`Please use only one of these two inputs, as they are aliases of one another. `+`"${u.Inputs.CONTAINERFILES}" takes precedence.`)}return t.length!==0?t:e}e.getContainerfiles=getContainerfiles;function getInputList(t){const e=s.getInput(t);if(!e){return[]}const r=splitByNewline(e);return r.reduce((t,e)=>t.concat(e).map(t=>t.trim()),[])}e.getInputList=getInputList;function getCommaSeperatedInput(t){const e=s.getInput(t);if(e.length===0){s.debug("empty");return[]}const r=e.split(",");return r.reduce((t,e)=>t.concat(e).map(t=>t.trim()),[])}e.getCommaSeperatedInput=getCommaSeperatedInput;function isFullImageName(t){return t.indexOf(":")>0}e.isFullImageName=isFullImageName;function getFullImageName(t,e){if(isFullImageName(e)){return e}return`${t}:${e}`}e.getFullImageName=getFullImageName;function removeIllegalCharacters(t){return t.replace(/[^a-zA-Z0-9 ]/g,"")}e.removeIllegalCharacters=removeIllegalCharacters},357:t=>{"use strict";t.exports=require("assert")},129:t=>{"use strict";t.exports=require("child_process")},417:t=>{"use strict";t.exports=require("crypto")},614:t=>{"use strict";t.exports=require("events")},747:t=>{"use strict";t.exports=require("fs")},87:t=>{"use strict";t.exports=require("os")},622:t=>{"use strict";t.exports=require("path")},669:t=>{"use strict";t.exports=require("util")}};var e={};function __webpack_require__(r){if(e[r]){return e[r].exports}var n=e[r]={exports:{}};var i=true;try{t[r].call(n.exports,n,n.exports,__webpack_require__);i=false}finally{if(i)delete e[r]}return n.exports}__webpack_require__.ab=__dirname+"/";return __webpack_require__(144)})();
//# sourceMappingURL=index.js.map